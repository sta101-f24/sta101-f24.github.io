{
  "hash": "51a05ee54e0fdb591b455f9bc292fadc",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 5\"\n---\n\n\nBy the end of this lab you will construct and interpret confidence intervals via bootstrapping.\n\n## Getting started\n\n1.  Use [these steps](https://sta101-f24.github.io/computing/computing-access.html) to navigate to the STA101 version of `RStudio` using the [Duke Container Manager](https://cmgr.oit.duke.edu/containers);\n\n2.  Use [these steps](https://sta101-f24.github.io/computing/computing-moving.html) to download all of the lab 5 files from our [Canvas page](https://canvas.duke.edu/courses/36641), upload them to your `RStudio` files, and move them into an appropriately named folder (`lab-5`, for instance);\n\n3.  Once `lab-5.qmd` is where it needs to be, open it, and verify that you can click the \"Render\" button in `RStudio` and get a PDF file. See [this answer](https://edstem.org/us/courses/64268/discussion/5216372?answer=12080244) on Ed if you want more guidance here;\n\n4.  Now proceed to complete the exercises in this lab.\n\n## Pointers\n\n-   For all visualizations you create, be sure to include informative titles for the plot, axes, and legend;\n-   Respond in complete sentences as much as possible;\n-   Be sure to observe good code style:\n    -   There is a line break after each `|>` in a pipeline or `+` in a ggplot;\n    -   There are spaces around `=` signs;\n    -   There is a space after each `,`;\n    -   Code is properly indented;\n    -   Code doesn't exceed 80 characters in each line, longer lines of code are spread across multiple lines with appropriately placed line breaks (so in the rendered PDF, your code shouldn't run off the page);\n    -   Code chunks are labeled, informatively and without spaces.\n\n## Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse) \nlibrary(tidymodels)\n```\n:::\n\n\n## Part 1: Lemurs\n\nThis week we'll be working with data from the [Duke Lemur Center](https://lemur.duke.edu/), which houses over 200 lemurs across 14 species -- the most diverse population of lemurs on Earth, outside their native Madagascar.\n\n> Lemurs are the most threatened group of mammals on the planet, and 95% of lemur species are at risk of extinction. Our mission is to learn everything we can about lemurs -- because the more we learn, the better we can work to save them from extinction. They are endemic only to Madagascar, so it's essentially a one-shot deal: once lemurs are gone from Madagascar, they are gone from the wild.\n\n> By studying the variables that most affect their health, reproduction, and social dynamics, the Duke Lemur Center learns how to most effectively focus [their conservation efforts](https://lemur.duke.edu/protect/overview-madagascar-conservation-programs/). And the more we learn about lemurs, the better we can educate the public around the world about just how amazing these animals are, why they need to be protected, and how each and every one of us can make a difference in their survival.\n\n> Source: [TidyTuesday](https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-08-24/readme.md)\n\nThe codebook for the deataset can be found [here](https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-08-24/readme.md#lemur_datacsv). While the TidyTuesday project used the full dataset, we'll be working with a subset.\n\n### Exercise 1\n\n::: exercise\nLoad the `lemurs` data from your `data` folder and save it as `lemurs`. Then, report which \"types\" of lemurs are represented in the sample and how many of each. Note that this information is in the `taxon` variable. You should refer back to the linked data dictionary to understand what the different values of `taxon` mean.\n:::\n\n\n\n\n\n### Exercise 2\n\n::: exercise\nWhat is the **mean** weight of **ring-tailed lemurs**? Calculate, visualize, and interpret a 95% bootstrap confidence interval together with your point estimate. Use `set.seed(123)` and `reps = 1000` to create your bootstrap confidence interval.\n:::\n\n**Hints:**\n\nBelow is a step-by-step recipe for constructing and visualizing a confidence interval. The code snippets shown are not \"complete\", they're intended to guide you in the right direction.\n\n-   Step 1: Create a dataset of ring-tailed lemurs, and call it `lemurs_rt`. Note, these are `taxon == \"LCAT\"`.\n\n\n\n\n\n-   Step 2: Calculate the mean weight of ring-tailed lemurs.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobs_stat_mean_rt <- lemurs_rt |>\n  specify(response = weight_g) |>\n  calculate(stat = \"mean\")\n```\n:::\n\n\n-   Step 3: Construct a bootstrap distribution. Note: There is a `generate()` step, so you also need to set a seed before running the following.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboot_dist_mean_rt <- lemurs_rt |>\n  specify(response = weight_g) |>\n  generate(reps = 1000, type = \"bootstrap\") |>\n  calculate(stat = \"mean\")\n```\n:::\n\n\n-   Step 4: Calculate the bounds of the confidence interval. Don't forget to interpret it as well!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nci_95_mean_rt <- boot_dist_mean_rt |>\n  get_confidence_interval(\n    point_estimate = obs_stat_mean_rt, \n    level = 0.95\n  )\n```\n:::\n\n\n-   Step 5: Visualize the confidence interval, overlaying it on the bootstrap distribution.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualize(boot_dist_mean_rt) +\n  shade_confidence_interval(endpoints = ci_95_mean_rt)\n```\n:::\n\n\n### Exercise 3\n\n::: exercise\nWhat is the **median** weight of ring-tailed lemurs? What is the **median** weight of mongoose lemurs? Report a 95% bootstrap confidence interval together with your point estimates. Use `set.seed(123)` and `reps = 10000` to create your bootstrap confidence intervals.\n:::\n\n### Exercise 4\n\n::: exercise\nYour friend has never taken a statistics course. Describe to your friend the process of \"bootstrap sampling\" in the previous exercise to create a bootstrap confidence interval in your own words. Walk your friend through the process of collecting a bootstrap sample, computing a statistic and then repeating). You may find it helpful to describe it as drawing pieces of paper from a bag like we did in class.\n:::\n\n**Hint:** What would you write on the slips of paper? How many pieces of paper would be in the bag(s)? How many bag(s) would you need for the above exercise?\n\n### Exercise 5\n\n::: exercise\nDo female lemurs differ in weight from male lemurs? Report the difference in mean weights between groups. Next, construct a 99% bootstrap distribution for the difference in means between groups and interpret it. If the interval covers 0, you might think there is no difference between groups. Does the interval cover 0? Use `set.seed(123)` and `reps = 10000.`\n:::\n\n### Exercise 6\n\n::: exercise\nCreate a new column that tells you whether or not a lemur was born in the first or second half of the year (January through June vs July through December). Create a meaningful plot to illustrate the weights of each group of lemurs. Use `theme_bw()` to replace the default gray plot background. Based on your figure, which group of lemurs weighs more? Is the distribution of one or both groups skewed or symmetric? See [here](https://openintro-ims2.netlify.app/05-explore-numerical#sec-histograms) for more information about skew vs symmetric distributions.\n:::\n\n### Exercise 7\n\n::: exercise\nIs there more variability in weight for lemurs born in the first half or second half of the year? Report the estimated standard deviation of each group. Report a 90% bootstrap confidence interval of s.d. for each group. Interpret the confidence intervals in context. Use `set.seed(123)` and remember to set `reps = 10000`.\n:::\n\n## Part 2: IMS Exercises\n\nThe exercises in this section do not require code. Make sure to answer the questions in full sentences.\n\n### Exercise 8\n\n::: exercise\nIMS - [Chapter 12 exercises](https://openintro-ims.netlify.app/foundations-bootstrapping#sec-chp12-exercises), #2: Chronic illness.\n:::\n\n### Exercise 9\n\n::: exercise\nIMS - [Chapter 12 exercises](https://openintro-ims.netlify.app/foundations-bootstrapping#sec-chp12-exercises), #6: Bootstrap distributions of $\\hat{p}$, III.\n:::\n\n### Exercise 10\n\n::: exercise\nIMS - [Chapter 12 exercises](https://openintro-ims.netlify.app/foundations-bootstrapping#sec-chp12-exercises), #8: Waiting at an ER.\n:::\n\n## Lastly\n\nRecommend some music for us to listen to while we grade this.\n\n## Wrap up\n\n### Submitting\n\n::: callout-important\nBefore you proceed, first, make sure that you have updated the document YAML with your name! Then, render your document one last time, for good measure.\n:::\n\nTo submit your assignment to Gradescope:\n\n-   Go to your Files pane and check the box next to the PDF output of your document (`lab-5.pdf`).\n\n-   Then, in the Files pane, go to More \\> Export. This will download the PDF file to your computer. Save it somewhere you can easily locate, e.g., your Downloads folder or your Desktop.\n\n-   Go to the course Canvas page and click on Gradescope and then click on the assignment. You'll be prompted to submit it.\n\n-   Mark the pages associated with each exercise. All of the papers of your lab should be associated with at least one question (i.e., should be \"checked\").\n\n::: callout-warning\nIf you fail to mark the pages associated with an exercise, that exercise won't be graded. This means, if you fail to mark the pages for all exercises, you will receive a 0 on the assignment. The TAs can't mark your pages for you, and for them to be able to grade, you must mark them.\n:::\n\n### Grading\n\n| Exercise    | Points |\n|-------------|--------|\n| Exercise 1  | 3      |\n| Exercise 2  | 6      |\n| Exercise 3  | 7      |\n| Exercise 4  | 5      |\n| Exercise 5  | 5      |\n| Exercise 6  | 7      |\n| Exercise 7  | 8      |\n| Exercise 8  | 3      |\n| Exercise 9  | 3      |\n| Exercise 10 | 3      |\n| **Total**   | 50     |",
    "supporting": [
      "lab-5_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}